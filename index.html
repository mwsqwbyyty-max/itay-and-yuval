<!DOCTYPE html>
<html lang="he">
<head>
<meta charset="UTF-8">
<title>חידון חלל – כיתה ב!</title>
<style>
* { box-sizing: border-box; font-family: Arial, sans-serif; }
body, html { margin:0; width:100%; height:100%; overflow:hidden; }
body {
    background-image: url("https://m.media-amazon.com/images/I/81ulx1Dk+HL._AC_UF894,1000_QL80_.jpg");
    background-size: cover;
    background-position: center;
    display: flex;
    justify-content: center;
    align-items: center;
    animation: fadeIn 1.5s ease;
}
.box {
    background: rgba(255,255,255,0.9);
    width: 70%;
    max-width: 700px;
    padding: 30px;
    border-radius: 20px;
    text-align: center;
    box-shadow: 0 15px 30px rgba(0,0,0,0.3);
    animation: pop 0.8s ease;
}
h1 { font-size: 32px; margin-bottom: 20px; }
.blue-btn {
    background: #1e88e5;
    color: white;
    font-size: 24px;
    padding: 15px 35px;
    border-radius: 15px;
    border: none;
    cursor: pointer;
    transition: transform 0.2s;
    margin-top: 10px;
    position: relative;
}
.blue-btn:hover { transform: scale(1.05); }
.correct { background: #4CAF50 !important; color: white !important; }
.wrong { background: #f44336 !important; color: white !important; }

.feedback { margin-top: 10px; font-size: 22px; font-weight: bold; }

.answers { display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; margin-top: 20px; }
.answers button { flex: 1 1 40%; max-width: 180px; }

#continueBtn { display: none; }

@keyframes fadeIn { from { opacity:0; } to { opacity:1; } }
@keyframes pop { from { transform: scale(0.9); opacity:0; } to { transform: scale(1); opacity:1; } }

/* קונפטי */
.confetti {
    position: absolute;
    width: 8px;
    height: 8px;
    background-color: red;
    border-radius: 50%;
    animation: fall 1s linear forwards;
}
@keyframes fall {
    0% { transform: translateY(0) rotate(0deg); opacity:1; }
    100% { transform: translateY(-80px) rotate(360deg); opacity:0; }
}

/* תו קטן מעל התשובה */
.letter { position: absolute; top:-20px; left:10px; font-size:18px; font-weight:bold; }
</style>
</head>
<body>

<div class="box" id="intro">
    <h1>שלום כיתה ב! אתם מוכנים לשאלון?</h1>
    <button class="blue-btn" onclick="startQuiz()">כן!!!</button>
</div>

<div class="box" id="quiz" style="display:none;">
    <div class="question" id="question"></div>
    <div class="answers" id="answers"></div>
    <div class="feedback" id="feedback"></div>
    <button class="blue-btn" id="continueBtn" onclick="nextQuestion()">המשך</button>
</div>

<script>
const questions = [
    { q: "7 + 8 = ?", a: 15 },
    { q: "12 − 5 = ?", a: 7 },
    { q: "3 × 2 = ?", a: 6 },
    { q: "מי גדול יותר: 9 או 7?", a: 9 },
    { q: "אם יש 3 כוכבים וכל כוכב נותן 2 נקודות, כמה נקודות בסך הכל?", a: 6 },
    { q: "5 + 9 = ?", a: 14 },
    { q: "8 − 3 = ?", a: 5 },
    { q: "4 × 2 = ?", a: 8 },
    { q: "מי קטן יותר: 6 או 11?", a: 6 },
    { q: "אם יש 5 חלליות וכל חללית נושאת 3 אסטרונאוטים, כמה אסטרונאוטים יש בסך הכל?", a: 15 },
    { q: "10 + 7 = ?", a: 17 },
    { q: "18 − 9 = ?", a: 9 },
    { q: "2 × 5 = ?", a: 10 },
    { q: "אם יש 12 כוכבים והספקנו לחלק 4 מהם לכל ילד, כמה ילדים קיבלו?", a: 3 },
    { q: "6 + 7 − 5 = ?", a: 8 }
];

let current = 0;
let score = 0;
const letters = ["א","ב","ג","ד"];

function startQuiz() {
    document.getElementById("intro").style.display = "none";
    document.getElementById("quiz").style.display = "block";
    showQuestion();
}

function showQuestion() {
    let q = questions[current];
    document.getElementById("question").innerText = q.q;
    const answersDiv = document.getElementById("answers");
    answersDiv.innerHTML = "";
    document.getElementById("feedback").innerText = "";
    document.getElementById("continueBtn").style.display = "none";

    let opts = [q.a, q.a+1, q.a-1, q.a+2].sort(() => Math.random() - 0.5);

    opts.forEach((num,i) => {
        let btn = document.createElement("button");
        btn.innerText = num;
        btn.className = "blue-btn";
        let letter = document.createElement("div");
        letter.className = "letter";
        letter.innerText = letters[i];
        btn.appendChild(letter);
        btn.onclick = () => handleAnswer(btn, num, q.a);
        answersDiv.appendChild(btn);
    });
}

function handleAnswer(btn, chosen, correct) {
    Array.from(document.getElementById("answers").children).forEach(b => b.disabled = true);

    if(chosen === correct) {
        btn.classList.add("correct");
        document.getElementById("feedback").innerText = "הצלחתם!";
        score++;
        // קונפטי קטן משני הצדדים
        createConfetti(btn, -1);
        createConfetti(btn, 1);
    } else {
        btn.classList.add("wrong");
        document.getElementById("feedback").innerText = "באסה.. טעיתם :(";
    }

    document.getElementById("continueBtn").style.display = "inline-block";
}

// פונקציה ליצור קונפטי
function createConfetti(btn, direction) {
    for(let i=0;i<10;i++){
        let c = document.createElement("div");
        c.className = "confetti";
        c.style.backgroundColor = `hsl(${Math.random()*360},70%,50%)`;
        c.style.left = (btn.offsetLeft + btn.offsetWidth/2) + "px";
        c.style.top = (btn.offsetTop + btn.offsetHeight/2) + "px";
        c.style.transform = `translateX(${direction * (Math.random()*50)}px)`;
        document.body.appendChild(c);
        setTimeout(()=>c.remove(),1000);
    }
}

function nextQuestion() {
    current++;
    current < questions.length ? showQuestion() : showResult();
}

function showResult() {
    document.getElementById("quiz").innerHTML = `
        <h1>✨ סיימתם!</h1>
        <p style="font-size:26px;">עניתם נכון על ${score} מתוך ${questions.length}</p>
        <button class="blue-btn" onclick="location.reload()">לעשות מחדש?</button>
    `;
}
</script>
</body>
</html>
