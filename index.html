<!DOCTYPE html>
<html lang="he">
<head>
<meta charset="UTF-8">
<title>חידון חלל – כיתה ב!</title>
<style>
* { box-sizing: border-box; font-family: Arial, sans-serif; }
body, html {
    margin: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
}
body {
    background-image: url("https://source.unsplash.com/1920x1080/?galaxy,stars,nebula,space");
    background-size: cover;
    background-position: center;
    display: flex;
    justify-content: center;
    align-items: center;
    animation: fadeIn 1.5s ease;
}
.box {
    background: rgba(255,255,255,0.9);
    width: 70%;
    max-width: 700px;
    padding: 30px;
    border-radius: 20px;
    text-align: center;
    box-shadow: 0 15px 30px rgba(0,0,0,0.3);
    animation: pop 0.8s ease;
}
h1 { font-size: 32px; margin-bottom: 20px; }
.blue-btn {
    background: #1e88e5;
    color: white;
    font-size: 24px;
    padding: 15px 35px;
    border-radius: 15px;
    border: none;
    cursor: pointer;
    transition: transform 0.2s;
    margin-top: 10px;
}
.blue-btn:hover { transform: scale(1.05); }
.correct { background: #4CAF50 !important; color: white !important; }
.wrong { background: #f44336 !important; color: white !important; }
.feedback {
    margin-top: 10px;
    font-size: 22px;
    font-weight: bold;
}
#continueBtn { display: none; }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes pop { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
</style>
</head>
<body>

<div class="box" id="intro">
    <h1>שלום כיתה ב! אתם מוכנים לשאלון?</h1>
    <button class="blue-btn" onclick="startQuiz()">כן!!!</button>
</div>

<div class="box" id="quiz" style="display:none;">
    <div class="question" id="question"></div>
    <div class="answers" id="answers"></div>
    <div class="feedback" id="feedback"></div>
    <button class="blue-btn" id="continueBtn" onclick="nextQuestion()">המשך</button>
</div>

<script>
const questions = [
    { q: "2 + 3 = ?", a: 5 },
    { q: "6 − 2 = ?", a: 4 },
    { q: "4 + 4 = ?", a: 8 },
    { q: "9 − 3 = ?", a: 6 },
    { q: "5 + 2 = ?", a: 7 },
    { q: "8 − 4 = ?", a: 4 },
    { q: "3 + 6 = ?", a: 9 },
    { q: "10 − 5 = ?", a: 5 },
    { q: "7 + 1 = ?", a: 8 },
    { q: "6 − 1 = ?", a: 5 },
    { q: "4 + 5 = ?", a: 9 },
    { q: "9 − 4 = ?", a: 5 },
    { q: "2 + 7 = ?", a: 9 },
    { q: "8 − 3 = ?", a: 5 },
    { q: "5 + 5 = ?", a: 10 }
];

let current = 0;
let score = 0;

function startQuiz() {
    document.getElementById("intro").style.display = "none";
    document.getElementById("quiz").style.display = "block";
    showQuestion();
}

function showQuestion() {
    let q = questions[current];
    document.getElementById("question").innerText = q.q;
    const answersDiv = document.getElementById("answers");
    answersDiv.innerHTML = "";
    document.getElementById("feedback").innerText = "";
    document.getElementById("continueBtn").style.display = "none";

    let opts = [q.a, q.a+1, q.a-1, q.a+2].sort(() => Math.random() - 0.5);

    opts.forEach(num => {
        let btn = document.createElement("button");
        btn.innerText = num;
        btn.className = "blue-btn";
        btn.onclick = () => handleAnswer(btn, num, q.a);
        answersDiv.appendChild(btn);
    });
}

function handleAnswer(btn, chosen, correct) {
    // נעילת כל הכפתורים
    Array.from(document.getElementById("answers").children).forEach(b => b.disabled = true);

    if(chosen === correct) {
        btn.classList.add("correct");
        document.getElementById("feedback").innerText = "הצלחתם!";
        score++;
    } else {
        btn.classList.add("wrong");
        document.getElementById("feedback").innerText = "באסה.. טעיתם :(";
    }

    document.getElementById("continueBtn").style.display = "inline-block";
}

function nextQuestion() {
    current++;
    current < questions.length ? showQuestion() : showResult();
}

function showResult() {
    document.getElementById("quiz").innerHTML = `
        <h1>✨ סיימתם!</h1>
        <p style="font-size:26px;">עניתם נכון על ${score} מתוך ${questions.length}</p>
        <button class="blue-btn" onclick="location.reload()">לעשות מחדש?</button>
    `;
}
</script>

</body>
</html>
